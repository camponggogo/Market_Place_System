-- ============================================
-- SQL Script: สร้าง Table Menu และข้อมูลตัวอย่าง
-- ============================================

-- สร้าง Table Menu
CREATE TABLE IF NOT EXISTS `menus` (
    `id` INT NOT NULL AUTO_INCREMENT,
    `store_id` INT NOT NULL,
    `name` VARCHAR(255) NOT NULL COMMENT 'ชื่อสินค้า',
    `description` TEXT NULL COMMENT 'คำอธิบายสินค้า',
    `unit_price` FLOAT NOT NULL COMMENT 'ราคาสินค้าต่อ Unit',
    `is_active` BOOLEAN NOT NULL DEFAULT TRUE COMMENT 'สถานะการใช้งาน',
    `created_at` DATETIME(6) DEFAULT CURRENT_TIMESTAMP(6),
    `updated_at` DATETIME(6) NULL ON UPDATE CURRENT_TIMESTAMP(6),
    PRIMARY KEY (`id`),
    INDEX `idx_menus_store_id` (`store_id`),
    CONSTRAINT `fk_menus_store_id` 
        FOREIGN KEY (`store_id`) 
        REFERENCES `stores` (`id`) 
        ON DELETE CASCADE 
        ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
COMMENT='รายการสินค้าของแต่ละร้านค้า';

-- ============================================
-- ข้อมูลตัวอย่าง Menu สำหรับแต่ละร้าน
-- ============================================

-- ร้านที่ 1: ร้านอาหารไทย (store_id = 1)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(1, 'ต้มยำกุ้ง', 'ต้มยำกุ้งน้ำใส รสจัดจ้าน', 120.00, TRUE),
(1, 'แกงเขียวหวานไก่', 'แกงเขียวหวานไก่ใส่พริกไทยอ่อน', 100.00, TRUE),
(1, 'ผัดไทยกุ้งสด', 'ผัดไทยกุ้งสดไข่เยี่ยวม้า', 90.00, TRUE),
(1, 'ต้มข่าไก่', 'ต้มข่าไก่ใส่ใบมะกรูด', 110.00, TRUE),
(1, 'แกงส้มชะอมกุ้ง', 'แกงส้มชะอมกุ้งรสเปรี้ยว', 95.00, TRUE),
(1, 'ผัดกะเพราหมูสับ', 'ผัดกะเพราหมูสับไข่ดาว', 80.00, TRUE),
(1, 'ต้มยำทะเล', 'ต้มยำทะเลรวมมิตร', 150.00, TRUE),
(1, 'แกงมัสมั่นไก่', 'แกงมัสมั่นไก่ใส่มันฝรั่ง', 120.00, TRUE),
(1, 'ผัดพริกแกงหมู', 'ผัดพริกแกงหมูใส่ใบมะกรูด', 90.00, TRUE),
(1, 'ต้มจืดหมูสับ', 'ต้มจืดหมูสับใส่เต้าหู้', 70.00, TRUE);

-- ร้านที่ 2: ร้านก๋วยเตี๋ยว (store_id = 2)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(2, 'ก๋วยเตี๋ยวน้ำใสหมู', 'ก๋วยเตี๋ยวน้ำใสหมู', 50.00, TRUE),
(2, 'ก๋วยเตี๋ยวต้มยำหมู', 'ก๋วยเตี๋ยวต้มยำหมู', 55.00, TRUE),
(2, 'ก๋วยเตี๋ยวน้ำใสไก่', 'ก๋วยเตี๋ยวน้ำใสไก่', 50.00, TRUE),
(2, 'ก๋วยเตี๋ยวต้มยำไก่', 'ก๋วยเตี๋ยวต้มยำไก่', 55.00, TRUE),
(2, 'ก๋วยเตี๋ยวน้ำใสเนื้อ', 'ก๋วยเตี๋ยวน้ำใสเนื้อ', 60.00, TRUE),
(2, 'ก๋วยเตี๋ยวต้มยำเนื้อ', 'ก๋วยเตี๋ยวต้มยำเนื้อ', 65.00, TRUE),
(2, 'ก๋วยเตี๋ยวแห้งหมู', 'ก๋วยเตี๋ยวแห้งหมู', 50.00, TRUE),
(2, 'ก๋วยเตี๋ยวแห้งไก่', 'ก๋วยเตี๋ยวแห้งไก่', 50.00, TRUE),
(2, 'ก๋วยเตี๋ยวเย็นตาโฟ', 'ก๋วยเตี๋ยวเย็นตาโฟ', 60.00, TRUE),
(2, 'ก๋วยเตี๋ยวเป็ด', 'ก๋วยเตี๋ยวเป็ด', 70.00, TRUE);

-- ร้านที่ 3: ร้านข้าวผัด (store_id = 3)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(3, 'ข้าวผัดกุ้ง', 'ข้าวผัดกุ้งไข่ดาว', 80.00, TRUE),
(3, 'ข้าวผัดหมู', 'ข้าวผัดหมูไข่ดาว', 70.00, TRUE),
(3, 'ข้าวผัดไก่', 'ข้าวผัดไก่ไข่ดาว', 70.00, TRUE),
(3, 'ข้าวผัดปู', 'ข้าวผัดปูไข่ดาว', 100.00, TRUE),
(3, 'ข้าวผัดทะเล', 'ข้าวผัดทะเลรวมมิตร', 120.00, TRUE),
(3, 'ข้าวผัดอเมริกัน', 'ข้าวผัดอเมริกันไส้กรอก', 90.00, TRUE),
(3, 'ข้าวผัดกุนเชียง', 'ข้าวผัดกุนเชียงไข่ดาว', 75.00, TRUE),
(3, 'ข้าวผัดแหนม', 'ข้าวผัดแหนมไข่ดาว', 75.00, TRUE),
(3, 'ข้าวผัดหมูกรอบ', 'ข้าวผัดหมูกรอบไข่ดาว', 85.00, TRUE),
(3, 'ข้าวผัดรวมมิตร', 'ข้าวผัดรวมมิตร', 110.00, TRUE);

-- ร้านที่ 4: ร้านเครื่องดื่ม (store_id = 4)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(4, 'น้ำส้มคั้น', 'น้ำส้มคั้นสด 100%', 40.00, TRUE),
(4, 'น้ำมะนาว', 'น้ำมะนาวเย็น', 30.00, TRUE),
(4, 'น้ำอัญชัน', 'น้ำอัญชันเย็น', 35.00, TRUE),
(4, 'น้ำเก๊กฮวย', 'น้ำเก๊กฮวยเย็น', 30.00, TRUE),
(4, 'น้ำลำไย', 'น้ำลำไยเย็น', 35.00, TRUE),
(4, 'น้ำแตงโม', 'น้ำแตงโมเย็น', 40.00, TRUE),
(4, 'น้ำมะพร้าว', 'น้ำมะพร้าวสด', 45.00, TRUE),
(4, 'น้ำเต้าหู้', 'น้ำเต้าหู้ร้อน/เย็น', 25.00, TRUE),
(4, 'ชาเขียว', 'ชาเขียวเย็น', 35.00, TRUE),
(4, 'กาแฟดำ', 'กาแฟดำร้อน', 30.00, TRUE);

-- ร้านที่ 5: ร้านของหวาน (store_id = 5)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(5, 'บัวลอย', 'บัวลอยน้ำกะทิ', 35.00, TRUE),
(5, 'ถั่วเขียวต้มน้ำตาล', 'ถั่วเขียวต้มน้ำตาล', 30.00, TRUE),
(5, 'ข้าวเหนียวทุเรียน', 'ข้าวเหนียวทุเรียน', 50.00, TRUE),
(5, 'กล้วยบวชชี', 'กล้วยบวชชี', 35.00, TRUE),
(5, 'สังขยา', 'สังขยาน้ำกะทิ', 40.00, TRUE),
(5, 'ขนมครก', 'ขนมครก 5 ชิ้น', 25.00, TRUE),
(5, 'ขนมปังปิ้ง', 'ขนมปังปิ้งทาเนย', 20.00, TRUE),
(5, 'ไอศกรีม', 'ไอศกรีม 1 ถ้วย', 45.00, TRUE),
(5, 'เฉาก๊วย', 'เฉาก๊วยน้ำกะทิ', 30.00, TRUE),
(5, 'ลอดช่อง', 'ลอดช่องน้ำกะทิ', 35.00, TRUE);

-- ร้านที่ 6: ร้านส้มตำ (store_id = 6)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(6, 'ส้มตำไทย', 'ส้มตำไทย', 50.00, TRUE),
(6, 'ส้มตำปู', 'ส้มตำปู', 60.00, TRUE),
(6, 'ส้มตำทะเล', 'ส้มตำทะเล', 80.00, TRUE),
(6, 'ส้มตำอีสาน', 'ส้มตำอีสาน', 55.00, TRUE),
(6, 'ส้มตำปูม้า', 'ส้มตำปูม้า', 65.00, TRUE),
(6, 'ส้มตำผลไม้', 'ส้มตำผลไม้', 60.00, TRUE),
(6, 'ส้มตำไข่เค็ม', 'ส้มตำไข่เค็ม', 55.00, TRUE),
(6, 'ส้มตำกุ้งสด', 'ส้มตำกุ้งสด', 70.00, TRUE),
(6, 'ส้มตำหมูยอ', 'ส้มตำหมูยอ', 60.00, TRUE),
(6, 'ส้มตำรวมมิตร', 'ส้มตำรวมมิตร', 90.00, TRUE);

-- ร้านที่ 7: ร้านข้าวมันไก่ (store_id = 7)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(7, 'ข้าวมันไก่', 'ข้าวมันไก่', 60.00, TRUE),
(7, 'ข้าวมันไก่ต้ม', 'ข้าวมันไก่ต้ม', 60.00, TRUE),
(7, 'ข้าวมันไก่ทอด', 'ข้าวมันไก่ทอด', 70.00, TRUE),
(7, 'ข้าวมันไก่ย่าง', 'ข้าวมันไก่ย่าง', 75.00, TRUE),
(7, 'ข้าวมันไก่พิเศษ', 'ข้าวมันไก่พิเศษ', 80.00, TRUE),
(7, 'ข้าวมันไก่ต้มพิเศษ', 'ข้าวมันไก่ต้มพิเศษ', 80.00, TRUE),
(7, 'ข้าวมันไก่ทอดพิเศษ', 'ข้าวมันไก่ทอดพิเศษ', 90.00, TRUE),
(7, 'ข้าวมันไก่ย่างพิเศษ', 'ข้าวมันไก่ย่างพิเศษ', 95.00, TRUE),
(7, 'ข้าวมันไก่ไข่ลวก', 'ข้าวมันไก่ไข่ลวก', 65.00, TRUE),
(7, 'ข้าวมันไก่ไข่ดาว', 'ข้าวมันไก่ไข่ดาว', 70.00, TRUE);

-- ร้านที่ 8: ร้านกะเพรา (store_id = 8)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(8, 'กะเพราไก่', 'กะเพราไก่ไข่ดาว', 70.00, TRUE),
(8, 'กะเพราหมู', 'กะเพราหมูไข่ดาว', 70.00, TRUE),
(8, 'กะเพราเนื้อ', 'กะเพราเนื้อไข่ดาว', 80.00, TRUE),
(8, 'กะเพราปลา', 'กะเพราปลาไข่ดาว', 75.00, TRUE),
(8, 'กะเพรากุ้ง', 'กะเพรากุ้งไข่ดาว', 90.00, TRUE),
(8, 'กะเพราไก่กรอบ', 'กะเพราไก่กรอบไข่ดาว', 85.00, TRUE),
(8, 'กะเพราหมูกรอบ', 'กะเพราหมูกรอบไข่ดาว', 85.00, TRUE),
(8, 'กะเพราทะเล', 'กะเพราทะเลไข่ดาว', 100.00, TRUE),
(8, 'กะเพราไข่', 'กะเพราไข่', 60.00, TRUE),
(8, 'กะเพราถั่วฝักยาว', 'กะเพราถั่วฝักยาวไข่ดาว', 70.00, TRUE);

-- ร้านที่ 9: ร้านหมูกระทะ (store_id = 9)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(9, 'หมูกระทะชุดเล็ก', 'หมูกระทะชุดเล็ก 1-2 คน', 199.00, TRUE),
(9, 'หมูกระทะชุดกลาง', 'หมูกระทะชุดกลาง 2-3 คน', 299.00, TRUE),
(9, 'หมูกระทะชุดใหญ่', 'หมูกระทะชุดใหญ่ 3-4 คน', 399.00, TRUE),
(9, 'หมูสไลด์', 'หมูสไลด์เพิ่ม', 80.00, TRUE),
(9, 'หมูสามชั้น', 'หมูสามชั้นเพิ่ม', 90.00, TRUE),
(9, 'หมูสันใน', 'หมูสันในเพิ่ม', 100.00, TRUE),
(9, 'ไก่สไลด์', 'ไก่สไลด์เพิ่ม', 70.00, TRUE),
(9, 'กุ้ง', 'กุ้งเพิ่ม', 120.00, TRUE),
(9, 'ปลาหมึก', 'ปลาหมึกเพิ่ม', 100.00, TRUE),
(9, 'ผักรวม', 'ผักรวมเพิ่ม', 50.00, TRUE);

-- ร้านที่ 10: ร้านชาบู (store_id = 10)
INSERT INTO `menus` (`store_id`, `name`, `description`, `unit_price`, `is_active`) VALUES
(10, 'ชาบูชุดเล็ก', 'ชาบูชุดเล็ก 1-2 คน', 249.00, TRUE),
(10, 'ชาบูชุดกลาง', 'ชาบูชุดกลาง 2-3 คน', 349.00, TRUE),
(10, 'ชาบูชุดใหญ่', 'ชาบูชุดใหญ่ 3-4 คน', 449.00, TRUE),
(10, 'เนื้อสไลด์', 'เนื้อสไลด์เพิ่ม', 150.00, TRUE),
(10, 'หมูสไลด์', 'หมูสไลด์เพิ่ม', 100.00, TRUE),
(10, 'ไก่สไลด์', 'ไก่สไลด์เพิ่ม', 80.00, TRUE),
(10, 'กุ้ง', 'กุ้งเพิ่ม', 130.00, TRUE),
(10, 'ปลาหมึก', 'ปลาหมึกเพิ่ม', 110.00, TRUE),
(10, 'ปูอัด', 'ปูอัดเพิ่ม', 60.00, TRUE),
(10, 'ผักรวม', 'ผักรวมเพิ่ม', 60.00, TRUE);

-- ============================================
-- ตรวจสอบข้อมูลที่สร้าง
-- ============================================
-- SELECT s.id, s.name, COUNT(m.id) as menu_count
-- FROM stores s
-- LEFT JOIN menus m ON s.id = m.store_id
-- GROUP BY s.id, s.name
-- ORDER BY s.id;

